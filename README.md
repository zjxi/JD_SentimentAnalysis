# ðŸ˜¼ðŸ˜½ðŸ˜»Taobao_SentimentAnalysisðŸ¤Ÿ
![License](https://img.shields.io/github/license/ElecRex/Taobao_SentimentAnalysis.svg)
![pythob](https://img.shields.io/badge/python-3.7-purple.svg)
## Introduction | é¡¹ç›®ç®€ä»‹

æŠ“å–æ·˜å®å•†åŸŽéšæœºé€‰å–çš„100éƒ¨å›¾ä¹¦çš„æ¯éƒ¨ä¹¦çš„10æ¡å•†å“è¯„è®ºï¼Œå…±1000æ¡å·¦å³ï¼Œ
è¿›è¡Œnlpæƒ…æ„Ÿåˆ†æžå’Œç®€å•æ•°æ®ç»Ÿè®¡åˆ†æžï¼Œå¹¶ç”Ÿæˆå•†å“è¯„è®ºé«˜é¢‘è¯æ±‡è¯äº‘ã€‚

## Download | é¡¹ç›®ä¸‹è½½

```bash
$ git clone https://github.com/ElecRex/Taobao_SentimentAnalysis.git
$ cd Taobao_SentimentAnalysis
```

## Requirements

- python 3.7
- requests==2.19.1
- lxml==4.2.5
- pandas==0.23.4
- snownlp==0.12.3
- matplotlib==2.2.2
- jieba==0.39
- wordcloud==1.5.0

## Details | æƒ…æ„Ÿåˆ†æžæµç¨‹ç®€æž

### 1. åˆ©ç”¨snownlp

- æ‰¾åˆ°ä¸‹è½½å®Œæ¯•çš„```snownlp```ä½äºŽ```site-packages```çš„ä½ç½®ï¼Œå¦‚ä¸‹å›¾ï¼š
- ![img](./assets/screenshot.png)

### 2. æž„å»ºç®€å•åˆ†è¯å’Œè¯æ€§æ ‡æ³¨

- éƒ¨åˆ†ä¸­æ–‡åˆ†è¯å¦‚ä¸‹ï¼š

```
æ–°/b åŽ/m ç¤¾/e åŒ—/b äº¬/e ï¼‘/b ï¼’/m æœˆ/e ï¼“/b ï¼‘/m æ—¥/e ç”µ/s å¿ /b è¯š/e çš„/s å…±/b äº§/m ä¸»/m ä¹‰/e æˆ˜/b å£«/e ï¼Œ/s ä¹…/b ç»/m è€ƒ/m éªŒ/e çš„/s æ— /b äº§/m é˜¶/m çº§/e é©/b å‘½/m å®¶/e ï¼Œ/s æˆ‘/b å…š/e å…š/b åŠ¡/e å·¥/b ä½œ/e å’Œ/s ç»Ÿ/b ä¸€/m æˆ˜/m çº¿/e å·¥/b ä½œ/e çš„/s æ°/b å‡º/e é¢†/b å¯¼/m äºº/e ï¼Œ/s åŽŸ/s ä¸­/b å…±/m ä¸­/m å¤®/e é¡¾/b é—®/e å§”/b å‘˜/m ä¼š/e å¸¸/b åŠ¡/e å§”/b å‘˜/m ä¼š/e å§”/b å‘˜/e ï¼Œ/s ä¸­/b å›½/e äºº/b æ°‘/e æ”¿/b æ²»/e å/b å•†/e ä¼š/b è®®/e ç¬¬/b å››/e ã€/s äº”/s ã€/s å…­/s å±Š/s å…¨/b å›½/e å§”/b å‘˜/m ä¼š/e å‰¯/s ä¸»/b å¸­/e åˆ˜/s æ¾œ/b æ¶›/e åŒ/b å¿—/e ï¼Œ/s å› /s ç—…/s åŒ»/b æ²»/e æ— /b æ•ˆ/e ï¼Œ/s äºŽ/s ï¼‘/b ï¼™/m ï¼™/m ï¼—/m å¹´/e ï¼‘/b ï¼’/m æœˆ/e ï¼“/b ï¼‘/m æ—¥/e ï¼‘/b ï¼/m æ—¶/e ï¼”/b ï¼”/m åˆ†/e åœ¨/s åŒ—/b äº¬/e é€/b ä¸–/e ï¼Œ/s ç»ˆ/b å¹´/e ï¼˜/b ï¼˜/e å²/s ã€‚/s
æ ¹/b æ®/e åˆ˜/s æ¾œ/b æ¶›/e åŒ/b å¿—/e ç”Ÿ/b å‰/e é—/b æ„¿/e å’Œ/s å®¶/b å±ž/e çš„/s æ„/b è§/e ï¼Œ/s åˆ˜/s æ¾œ/b æ¶›/e åŒ/b å¿—/e çš„/s ä¸§/b äº‹/e ä»Ž/b ç®€/e ï¼Œ/s ä¸/s ä¸¾/b è¡Œ/e 
```

### 3. æ‰¾åˆ°```neg.txt```å’Œ```pos.txt```åˆ†åˆ«ä¸ºè´Ÿæ­£å‘æƒ…æ„Ÿæ•°æ®é›†

- æˆ‘ä»¬å›¢é˜Ÿé‡‡ç”¨å…¬å¼€ç”µå•†è´­ç‰©è¯„è®ºæ•°æ®é›†ï¼Œå¹¶è¿›è¡Œè®­ç»ƒï¼Œ
  è®­ç»ƒåŽçš„æ¨¡åž‹è‡ªåŠ¨ä¿å­˜åˆ°```sentiment.marshal```

### 4. ä¿®æ”¹å¹¶é‡æž„è´å¶æ–¯åˆ†ç±»å™¨

- ä¿®æ”¹```sentiment.marshal```ä¸ºåˆé€‚çš„è·¯å¾„ï¼Œå¹¶åˆ©ç”¨è´å¶æ–¯åˆ†ç±»å™¨è¿›è¡Œæƒ…æ„Ÿåˆ†æžæµ‹è¯•ï¼Œ
  è§„å®šå°†æƒ…æ„Ÿåˆ†æžç»“æžœåœ¨```[0, 0.4]```èŒƒå›´ä¸ºä¸å–œæ¬¢(å·®è¯„)ï¼Œ```[0.4, 0.6]```èŒƒå›´ä¸ºä¸€èˆ¬(ä¸­è¯„), ```[0.6, 1.0]```èŒƒå›´ä¸ºå–œæ¬¢(å¥½è¯„)
  ```python
   with open(f'{filename}.csv', 'r', encoding='gbk') as fr:
        for line in fr.readlines():
            s = snownlp.SnowNLP(line)
            if s.sentiments > 0.6:
                res = 'å–œæ¬¢'
                res_list.append(1)
            elif s.sentiments < 0.4:
                res = 'ä¸å–œæ¬¢'
                res_list.append(-1)
            else:
                res = 'ä¸€èˆ¬'
                res_list.append(0)
            sent_dict = {
                'æƒ…æ„Ÿåˆ†æžç»“æžœ': s.sentiments,
                'è¯„ä»·å€¾å‘': res,
                'å•†å“è¯„è®º': line
            }
  ```
  æœ€åŽçš„æµ‹è¯•ç»“æžœä¿å­˜åˆ°```result.csv```

## Results | éƒ¨åˆ†ç»“æžœå±•ç¤º

- éƒ¨åˆ†å›¾ä¹¦å•†å“è¯„è®ºæ•°æ®å±•ç¤º
  
  ```angular2
  å®£ä¼ çš„ä¹¦æœ¬åŽšåº¦ä¸¥é‡ç¼©æ°´!!
  "å¾ˆå¥½ï¼å­©å­å–œæ¬¢ï¼å¤§
  èµžä¸€ä¸ª"
  å¾ˆå¥½
  é¦–å…ˆï¼Œå¿«é€’å¸ˆå‚…çš„å·¥ä½œçƒ­æƒ…å’Œæ€åº¦å¾ˆå¥½ï¼Œå…¶æ¬¡ä¸œè¥¿åŒ…è£…å®Œå¥½ã€‚å…ˆç»™å¥½è¯„ã€‚ä¸é”™ã€‚
  ä¸€æœ¬å­—å…¸å¤§å°ï¼Œä¹°æ¥å½“ä½œå‚è€ƒä¹¦ç”¨ï¼Œå–œæ¬¢ã€‚éšæ—¶æŸ¥ã€‚æœ‰äº›ä¸œè¥¿ä¹¦åº—ä¹°ä¸åˆ°ï¼Œç½‘ä¸Šå¯ä»¥ä¹°åˆ°ã€‚å¸Œæœ›è‡ªå·±èƒ½ç”¨çš„ç€ã€‚å·¥ä½œè·¯è¿˜é•¿ï¼Œä¸€åˆ‡å¸Œæœ›èƒ½èµ°çš„æ›´è¿œï¼Œæ›´å¥½ã€‚2017ï¼ŒåŠ æ²¹ã€‚
  æ–¹ä¾¿æºå¸¦ï¼Œå¹³æ—¶ç¿»ç¿»ï¼Œéšæ—¶å­¦ä¹ ã€‚
  ä¸é”™ï¼Œä¹¦åº—æ‰¾ä¸åˆ°ï¼Œè¿˜æ˜¯ç½‘åº—æ–¹ä¾¿ï¼Œå¥½å¥½å­¦ä¹ å¤©å¤©å‘ä¸Š
  å¾ˆå¥½å•Šï¼Œè´¨é‡å¾ˆå¥½ï¼Œä¸Šç­å‡ å¹´äº†ï¼Œæœ‰ç©ºæ—¶å¤šå­¦ä¹ ä¸€ä¸‹ï¼
  å°çš®é¢œè‰²çœ‹èµ·æ¥æ€ªæ€ªçš„ï¼Œå–œæ¬¢åŽŸæœ‰çš„ç¬¬ä¸ƒç‰ˆçš„è®¾è®¡
  åƒå­—å…¸é‚£ä¹ˆå¤§ï¼Œå†…å®¹æ¯”è¾ƒå…¨é¢ã€‚
  å‰›æ”¶åˆ°ï¼Œå°å“¥é€è²¨å¿«ï¼ŒæŒºæ»¿æ„çš„ï¼Œ
  ç‰©æµå¾ˆå¿«ï¼Œæ­£å“è¡Œè´§ï¼Œæ»¡æ„ï¼
  ç‰©æµå¤ªé€Ÿåº¦äº†ï¼Œä¹°è¿™æœ¬ä¹¦å°±æ˜¯å› ä¸ºå°ï¼Œå¸¦ç€æ–¹ä¾¿
  æ‰“åŒ…ä¸€çœ‹å°é¢æŽ‰æ¼†ï¼Œæ²¾è´´ä¸æ­£ï¼Œè±¡ä¸æ˜¯æ­£è§„åŽ‚å®¶å‡ºç‰ˆçš„ï¼Œå†…å®¹æœ‰å¾…ç¡®è®¤ã€‚
  åŒ11ç»™å®å®ä¹°äº†å¤ªå¤šçš„ä¹¦ï¼Œæ»¡å‡è¿‡åŽçš„ä»·æ ¼éžå¸¸ç¾Žä¸½ï¼Œå°åˆ·çš„è´¨é‡ä¹Ÿå¾ˆå¥½ï¼Œå°å®¶ä¼™çŽ°åœ¨æ¯æ™šéƒ½è¦ä¸€ä¸ªæ•…äº‹æ‰è‚¯ä¹–ä¹–ç¡è§‰ã€‚
  ä¸œè¥¿å¥½çš„æ²¡è¯è¯´ï¼Œä¸‹æ¬¡è¿˜ä¹°ï¼Œä¸€å¦‚æ—¢å¾€çš„æ”¯æŒ ä¸œè¥¿å¥½çš„æ²¡è¯è¯´ï¼Œä¸‹æ¬¡è¿˜ä¹°ï¼Œä¸€å¦‚æ—¢å¾€çš„æ”¯æŒ ä¸œè¥¿å¥½çš„æ²¡è¯è¯´ï¼Œä¸‹æ¬¡è¿˜ä¹°ï¼Œä¸€å¦‚æ—¢å¾€çš„æ”¯æŒ
  ç»™å¨ƒå›¤çš„ï¼Œ6ä¸ªæœˆå¨ƒåªä¼šå•ƒï¼Œæ²¡æœ‰ä»€ä¹ˆè€å¿ƒå¬æ•…äº‹ï¼Œé•¿ç‰™é˜¶æ®µå¤ªé—¹è…¾ã€‚
  å†…å®¹ç»å…¸ï¼Œå¨ƒçˆ±ä¸é‡Šæ‰‹ï¼Œè¦è®²å¥½å¤šéï¼Œæ´»åŠ¨æœŸè´­ä¹°è¶…çº§åˆ’ç®—
  æ´»åŠ¨çœŸå¤šå•Šï¼Œåˆä¹°äº†å¥½å¤šå¥½å¤šï¼Œç»˜æœ¬ä¸å«Œå¤šã€‚
  "é‡‘ç¾½æ¯›è¿™ç³»åˆ—ä¹¦éƒ½ä¸é”™ï¼Œé€‚åˆå¤§ä¸€ç‚¹çš„å°æœ‹å‹ï¼Œå…ˆä¹°æ¥æ”¶è—ç€ï¼Œæžæ´»åŠ¨ä¹°ä¹Ÿååˆ†ä¼˜
  æƒ ï¼ŒåŒ…è£…çš„å¾ˆå¥½ï¼"
  ä¸€ä¸¤ä¸ªæœˆå°±è¦è´­å…¥å¾ˆå¤šæœ¬ ç»˜æœ¬é€‰æ‹©å¾ˆå¤š
  ç»™å°å­©ä¹°çš„ é™ªç€å°å­©ä¸€èµ·é˜…è¯» å¸Œæœ›ä»–ä¹Ÿçˆ±ä¸Šè¯»ä¹¦
  è¿˜ä¸é”™å§ï¼Œå€¼å¾—è´­ä¹°ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚
  ```
- éƒ¨åˆ†æƒ…æ„Ÿåˆ†æžç»“æžœå±•ç¤º
  ![res](./assets/res.png)

- 1000æ¡å›¾ä¹¦å•†å“è¯„è®ºçš„æƒ…æ„Ÿåˆ†æžå¯è§†åŒ–ç»“æžœ
  ![fig](./assets/fig.png)

- 1000æ¡å›¾ä¹¦å•†å“è¯„è®ºçš„é«˜é¢‘è¯æ±‡è¯äº‘
  ![wordcloud](./assets/word_cloud.png)

## License

- MIT license

## Author

- Zijun Xi @2019-9-28
